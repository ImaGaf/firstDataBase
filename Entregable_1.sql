CREATE TABLE "users" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" varchar(25) NOT NULL,
  "email" varchar(50) UNIQUE NOT NULL,
  "password" varchar(20) NOT NULL,
  "age" int,
  "role" int NOT NULL,
  "level" int NOT NULL
);

CREATE TABLE "roles" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" varchar(10) UNIQUE NOT NULL
);

CREATE TABLE "level" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" varchar(15) UNIQUE NOT NULL
);

CREATE TABLE "courses" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "title" int UNIQUE NOT NULL,
  "descripcion" varchar,
  "level" int NOT NULL,
  "teacher" int NOT NULL
);

CREATE TABLE "course_video" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "title" varchar(60) UNIQUE NOT NULL,
  "url" varchar UNIQUE NOT NULL,
  "categories" int NOT NULL,
  "course" int NOT NULL
);

CREATE TABLE "teacher" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" varchar(20) UNIQUE NOT NULL
);

CREATE TABLE "categories" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" varchar(20) UNIQUE NOT NULL
);

CREATE TABLE "course_title" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" varchar(30) UNIQUE NOT NULL
);

ALTER TABLE "users" ADD FOREIGN KEY ("level") REFERENCES "level" ("id");

ALTER TABLE "users" ADD FOREIGN KEY ("role") REFERENCES "roles" ("id");

ALTER TABLE "courses" ADD FOREIGN KEY ("level") REFERENCES "level" ("id");

ALTER TABLE "courses" ADD FOREIGN KEY ("teacher") REFERENCES "teacher" ("id");

ALTER TABLE "course_video" ADD FOREIGN KEY ("categories") REFERENCES "categories" ("id");

ALTER TABLE "course_title" ADD FOREIGN KEY ("id") REFERENCES "courses" ("title");

ALTER TABLE "course_video" ADD FOREIGN KEY ("course") REFERENCES "course_title" ("id");


INSERT INTO teacher VALUES (1, 'Antonio'), (2,'María'), (3,'Kamila');
INSERT INTO level VALUES (1,'Beginner'), (2, 'Intermediate'), (3, 'Advanced'), (4, 'None');
INSERT INTO courses (id, title, descripcion, level, teacher) VALUES (1, 1, 'Englisf for Beginner', 1, 1),(2, 2, 'Englisf for Intermediate', 2, 2), (3, 3, 'Englisf for Advanced', 3, 3);
INSERT INTO categories VALUES (1, 'Grammar'), (2, 'Vocabulary'), (3, 'Listening'), (4, 'Speaking');
INSERT INTO course_title VALUES (1, 'English Beginner'), (2, 'English Intermediate'), (3, 'English Advanced');
INSERT INTO course_video (id, title, url, categories, course) VALUES (1, 'Vocabulary1', 'video1.com', 2, 1), (2, 'Vocabulary', 'Video2.com', 2, 1), (3, 'Listening A1', 'ListeningA1.com', 1, 3);
INSERT INTO roles VALUES (1, 'Student'), (2, 'Teacher'), (3, 'Admin');
INSERT INTO users (id, name, email, password, age, role, level) VALUES (1, 'Oswaldo', 'oj@gmail.com','1234', 22, 1, 1), (2, 'Jose', 'jo@gmail.com', 'josexd', 21, 1, 3), (3, 'Miguel', 'Mil@gmail.com', 'miguelxd', 19, 1, 2), (4, 'Antonio', 'anto@gmail.com', '4533', 42, 2, 1), (5, 'María', 'mari@gmail.com', 'soloio', 29, 2, 2), (6, 'Kamila', 'kmla@gmail.com', 'kamiyo', 30, 2, 2), (7,'Vanessa', 'vanne@gmail.com', 'carnesi', 35, 3, 4);



